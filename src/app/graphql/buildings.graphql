#-------------------------------------------------------------------------------
query allBuildingsNoPagination($userId: [Int!]) {
  allBuildings(filter: { 
          or: [
   { endUserByEndUserId: { id: { inExpansive: $userId } }
  }]
  }) {
    nodes {
      id
      name
      created
      userByOwnerId {
        initials
        id
      }
      endUserByEndUserId {
        id
        name
      }   
    }
  }
}


#-------------------------------------------------------------------------------
query allBuildings($first: Int, $offset: Int, $filter: BuildingFilter!, $orderBy: [BuildingsOrderBy!]) {
  allBuildings(
    filter: $filter
    orderBy: $orderBy
    first: $first
    offset: $offset
  ) {
    totalCount
    nodes {
        id
        name
        created
        userByOwnerId {
            initials
            id
        }
        endUserByEndUserId {
          id
          name
        }
    }
  }
}


#-------------------------------------------------------------------------------
mutation CreateBuilding(
    $body: BuildingInput!
) {
  createBuilding(
    input: {building: $body}
  ) {
    building {
        id
        name
        created
        userByOwnerId {
            initials
            id
        }
        endUserByEndUserId {
          id
          name
        }
    }
  }
}

#-------------------------------------------------------------------------------
mutation UpdateBuilding(
    $id: Int!, $patch: BuildingPatch!
) {
  updateBuildingById(
    input: {
		id: $id
		buildingPatch: $patch	
    }
  ) {
    building {
        id
        name
        created
        userByOwnerId {
            initials
            id
        }
        endUserByEndUserId {
          id
          name
        }
    }
  }
}

#-------------------------------------------------------------------------------
mutation DeleteBuilding($id: Int!)
{
	deleteBuildingById(input:{id: $id})
	{
		clientMutationId
	}  
}
