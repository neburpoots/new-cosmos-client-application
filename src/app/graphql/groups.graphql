#-------------------------------------------------------------------------------
fragment groupFields on Group
{	 
	id
	name	
}

#-------------------------------------------------------------------------------
query allGroupsNoPagination
    {
    allGroups {
        nodes {
            id,
            name,
            modified,
            ownerId,
            groupPermissionByGroupId {
                id
                writeIds
                readIds
            }
        }       
    }
}

#-------------------------------------------------------------------------------
query allGroups(
    $first: Int, $offset: Int, $filter: GroupFilter!, $orderBy: [GroupsOrderBy!]
)
    {
    allGroups(
    filter: $filter
    orderBy: $orderBy
    first: $first
    offset: $offset
    ) {
        totalCount
        
        nodes {
            id,
            name,
            modified,
            ownerId,
            groupPermissionByGroupId {
                id
                writeIds
                readIds
            }
        }        
    }
}

#-------------------------------------------------------------------------------
mutation CreateGroup(
    $body: CreateGroupInput!
) {
  createGroup(
    input: $body
  ) {
    group {
            id,
            name,
            modified,
            ownerId,
            groupPermissionByGroupId {
                id
                writeIds
                readIds
            }
        } 
  }
}

#-------------------------------------------------------------------------------
mutation UpdateGroup(
    $id: Int!, $patch: GroupPatch!
) {
  updateGroupById(
    input: {
		id: $id
		groupPatch: $patch	
    }
  ) {
    group {
            id,
            name,
            modified,
            ownerId,
            groupPermissionByGroupId {
                id
                writeIds
                readIds
            }
        } 
  }
}

#-------------------------------------------------------------------------------
mutation DeleteGroupById($id: Int!)
{
	deleteGroupById(input:{id: $id})
	{
		clientMutationId
	}  
}
